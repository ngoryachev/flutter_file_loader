# Загрузчик файлов

Реализаация тестового задания от соискателя Горячева Николая

## [Требования](https://hackmd.io/8bnSkb1ETW-0UrtyPFe5Xg) к тестовому заданию

_Требования по главному экрану:_
  - Кнопка [Сбросить] заблокирована, если файлов нет;
  - Кнопка [Сбросить] заблокирована, если файлов нет;
  - Кнопка [Сохранить] заблокирована, если: Файлов нет; Процесс загрузки хотя бы одного файла не завершен.

  - При клике на [Сбросить] список файлов очищается, в том числе загружаемые в этот момент файлы.
  - При клике на [Сохранить] появляется нотификация с текстом “Файлы сохранены”.
  - При клике на элемент с текстом “Файлы” переходим на экран загрузки файлов.
  - У кликабельного элемента должен быть один из подзаголовков с текстом:
    - Нет файлов.
    - “Кол-во файлов: N” - если все файлы успешно загружены, где N - это кол-во файлов.
    - “Осталось загрузить: M. Всего файлов: N” - где M - это кол-во файлов, которые не в статусе Успешно загружен, а N - все файлы в любом статусе.

_Требования по экрану загрузки файлов:_
   - Если список файлов пуст, то на экране выводится текст “Нет файлов”.
   - При клике на кнопку [Добавить файл] добавляется один элемент “Файл #N” в конец списка файлов.
   - Если “Файл” попал в очередь на загрузку (Загружается), под этим файлом пишем текст “Загружается”;
   - Если очередь по загрузке переполнена, под файлами, которые еще не загружены пишем текст “В ожидании”;
   - Если “Файл” в статусе Успешно загружен, ничего под ним писать не надо;
   - Любой файл в любом статусе можно удалить (см. скриншот).
   - Кнопка [Добавить файл] видна только тогда, когда кол-во файлов < 30.
   - Имя файла можно генерировать на свое усмотрение.
   
## Детали реализации

 - file_uploader.dart и конкретно FileUploader хранит все состояние и api
 - код либы минимально покрыт тестами
 - сложность мутирующих операций = O(n)
 - состояние FileUploader реализовано пакетом built_collection для избежания гонок
 - управление состояние в ui слое сделано простейшим InheritedWidget и полностью делегировано к FileUploader  
 - код ui практически не модифицировался, а лишь адаптировался к FileUploader api
 - персистентность не реализована, но в коде описано куда ее вставить при надобности
 